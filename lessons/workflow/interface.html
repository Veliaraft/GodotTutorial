<link rel="stylesheet" href="../../css/contentstyle.css">
<div style="width: 95%; 
            color: #fff; 
            font-family:'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;
            text-align: justify;
            padding-top: 25px;
            padding-left: 2.5%">

    <h1>Интерфейс, особенности, первоначальная настройка проекта.</h1>

    <h2>Интрефейс</h2>
    <p>После создания проекта откроется стандартное окно редактора.</p>
    <div class="imagediv"><img src="imgs/Editor.png"></div>
    <p>Окно редактора разделено на «доки» – окна, которые способны как привязываться к краям геометрии движка, так и существовать самостоятельно, отдельно от него.</p>
    <ol>
        <li>Вьюпорт – основное окно, в котором будет отображаться вид нашего проекта.</li>
        <li>В дереве текущей сцены показаны текущие объекты (узлы) сцены, их сортировка, а так же их наследственности. Там же, на вкладке импорта, мы сможем видеть материалы которые мы импортировали, и менять их особенности импорта.</li>
        <li>Док файловой системы отображает файлы проекта. Файловая система проекта представляет собой простую папку с файлами, поэтому элементы файловой системы показаны в привычном виде, так, как они расположены на диске.</li>
        <li>Инспектор позволяет изменять параметры выбранного узла сцены, такие как положение, поворот, размер, цвет, текстура и т.д. Во вкладке «Узел» мы можем наблюдать сигналы которыми обладает выбранный узел сцены, и к какой группе он присоединён.</li>
        <li>Внизу движка, без обозначений, находится безымянная панель – она является вспомогательной. Позволяет работать с консолью движка, редактировать звуковые эффекты, анимации, и, в зависимости от ситуации предлагает дополнительные возможности (например, редактирование области текстуры).</li>
        <li>Кнопки тестирования позволяют переключить используемую графическую подсистему, запустить определённую сцену, либо весь проект для тестирования.</li>
        <li>Будем мы делать 2D, или 3D, будем мы писать скрипт, или же пожелаем скачать какие-то ассеты в ассетсторе – это нам позволяет выбрать область рабочих пространств. <hr><i><b>Ассет</b> – игровой ресурс состоящий из однотипных данных, объединённый в единое целое, представляющий часть игрового контента и обладающий определёнными свойствами.</i><hr></li></li>
        <li>Главное меню редактора позволяет выбрать одну из важных опций редактора как, например, создание сцены, настройка редактора, или изменение настроек проекта.</li>
    </ol>
    <h2>Настройка проекта</h2>
    <p>Для настройки проекта обратимся к главному меню редактора. Так как нам необходимо производить действия которые относятся к проекту в целом – мы обращаемся к меню «Проект». Выберем пункт «Настройки проекта»</p>
    <div class="imagediv"><img src="imgs/menu-projectpreferences.png"></div>
    <p>Откроется окно настроек проекта. Прежде всего мы затронем те настройки, которые, изменение которых в ходе разработке проекта может повлечь за собой неприятности. Прежде всего настройки отображения. В списке слева выбираем «Display»->«Window» ("Дисплей"->"Окно")</p>
    <div class="imagediv"><img src="imgs/ProjectPreferences.png"></div>
    <p>Обратим внимание на открывшиеся параметры отображения.
         В данный момент нам необходим раздел «Size». 
         Для того чтобы выставить необходимую область экрана для отображения – нам необходимо выставить размер отображаемой области. 
         Ширина задаётся параметром «width», а высота параметром «height». 
         В официальной документации движка разработчики рекомендуют выставлять разрешение соответствующее FullHD (1920х1080). 
         Такое решение объясняется статистическим анализом экранов пользователей – ~60% пользователей пользуются FullHD. 
         Мы же с вами постараемся понять почему у нас есть возможность выставить свои размеры.
    </p>
    <p>
        Вероятно, вы будете делать игру для определённой аудитории. 
        Это могут быть «мобильные геймеры» – люди, которые играют на портативных устройствах, таких как смартфон. 
        В большинстве случаев экраны смартфонов имеют меньшее разрешение, и меньший размер. 
        В результате увеличения разрешения отображения до больших величин пользователь может не увидеть изменений в улучшении качества картинки, 
        однако мы можем сильно потерять в производительности. 
        В случае если мы задаём небольшое разрешение отображения – мы рискуем испортить картинку. 
        Движок устроен таким образом, что каждый кадр в игре рисуется в заданном нами разрешении отображения, 
        после чего растягивается или сжимается до размера окна игры (в случае с полным экраном – до разрешения экрана).
    </p><div class="imagediv"><img src="imgs/Scaling.png"></div>
    <p>
        Посмотрим достаточно грубый пример. Мы собираемся делать картинку в разрешении 4x4. 
        За один кадр компьютер рисует 16 пикселей. Если мы картинку растянем до 8х8, 
        компьютеру нужно будет потрудиться над 16 пикселями, и вывести просто повторив их таким образом, чтобы у нас получилось 64 пикселя. 
        Но если мы будем сжимать их до 2х2 – нам нужно вывести всего 4 пикселя вместо шестнадцати. 
        Это значит что компьютер не использует 12 пикселей на которые затратил время.
    </p></p><div class="imagediv"><img src="imgs/ScalingExample.png"></div>
    <p>Рассмотрим дальнейшие пункты
        <ul>
            <li><b>Resizable</b> – позволяет масштабировать окно игры.</li>
            <li><b>Borderless</b> – при включении убирает рамку окна.</li>
            <li><b>Fullscreen</b> – запускает игру в полноэкранном режиме.</li>
            <li><b>Always on top</b> – размещает игру поверх остаьных окон.</li>
        </ul>
        Дальнейшие два пункта (Test Width и Test Height) позволяют задать размер окна приложения в режиме тестирования. Они влияют только на режим тестирования, и не влияют на конечный результат собранного приложения.
    </p>
    <p><b>HiDPI (High Dots Per Inch)</b> – технология, которая, образно говоря, сообщает что есть корелляция между виртуальными пикселями экрана, и физическими пикселями монитора. Настройка «Allow HiDPI» позволяет использовать данную технологию, однако по умолчанию она отключена – включение данной настройки может оказать плохое влияние на производительность в слабых системах, а так же HiDPI поддерживается только в Windows и MacOS.</p>
    <p>Дальнейшая настройка которая нас интересует – «Use Vsync». Она позволяет использовать вертикальную синхронизацию – технологию, позволяющую исправить «экранный разрез» между текущим, и предыдущим кадром. При быстрой смене изображения компьютер может не успевать обрабатывать кадры изображения – тогда он рисует новый кадр поверх старого. Возникает эффект, который делит экран на две части – верхняя половина содержит половину нового, а нижняя половина половину предыдущего кадров. При включённой вертикальной синхронизации компьютер не будет показывать новый кадр, пока не отрисует его полностью, что исправит этот неприятный разрез экрана. В слабых системах так же влияет на производительность.</p>
    <p>В разделе «Energy Saving» нас интересует настройка «Keep Screen On». Согласитесь, будет неприятно если вы поставили игру на паузу и пошли пить чай, а при возвращении увидели что компьютер уснул. Вы пытаетесь его разбудить, и компьютер, пытаясь при пробуждении загрузить и обработать много информации начинает подвисать, глючить, либо ведёт себя нестандартно. Даже если он ведёт себя нестандартно – всё-равно неприятно когда в игре смотришь ролик, и компьютер уходит в сон. Данная настройка позволяет делать так, чтобы компьютер не гасил экран, не спал и не включал заставки, пока созданная вами игра открыта.</p>
    <p>Пункт «Orientation» в разделе «HandHeld» (HandHeld – карманный компьютер) необходим для мобильных устройств. Позволяет выбрать ориентацию экрана мобильного устройства, в котором должна работать наша игра. Параметр “sensor” стоящий в конце именования пункта указывает на положение относительно акселерометра телефона. Акселерометр позволяет телефону определить положение в пространстве и понять в какую сторону действует гравитация, чтобы понимать, как именно пользователь повернул телефон.</p>
    <p>Теперь мы добрались до самого интересного – раздел «Stretch».
        <ol>
            <li>Параметр «Mode» определяет, как базовый размер растягивается в соответствии с разрешением окна или экрана. В нашем случае есть три варианта:
                <ul>
                    <li><b>Disable</b> - режим растяжения. По умолчанию выключен, что означает, что приложение выберет разрешение равное размеру окна или в полноэкранном режиме - размеру экрана;</li>
                    <li><b>2D</b> - в этом режиме вся 2д графика будет отмасштабирована на разницу между разрешением выставленным в настройках и текущим разрешением окна, 3д элементы останутся нетронутыми;</li>
                    <li><b>Viewport</b> - несколько иной вид масштабирования, картинка рендерится во корневой вьюпорт, который берет размеры установленные в настройках проекта (раздел display), а далее итоговая картинка подгоняется под экран, что удобно для игр где важна пиксельная точность или быстродействие.</li>
                </ul>
            </li><br>
            <li>Параметр «Aspect» отвечает за пропорции масштабирования:
                <ul>
                    <li><b>Ignore</b> - Игнорировать пропорции при масштабировании, т.е. итоговая картинка будет растянута по обоим сторонам один к одному;</li>
                    <li><b>Keep</b> - Сохранять пропорции при масштабировании, т.е. пропорции сохранятся, а подгонка под экран будет выполнена за счет наращивания картинки сверху/снизу или справа/слева черными областями;</li>
                    <li><b>Keep Width</b> - Фиксированная ширина. т.е. если разрешение окажется шире, то справа и слева будет заполнение темными областями, а по высоте согласно высоте окна. Удобно для GUI или HUD когда контролы привязаны к "полу" (см. туториал);</li>
                    <li><b>Keep Height</b> - Фиксированная высота. т.е. если разрешение окажется выше, то сверху и снизу будет заполнение темными областями, а в ширину согласно ширине окна. Такое удобно для 2д игры с горизонтальной прокруткой (раннеры, платформеры);</li>
                    <li><b>Expand</b> - Разворачивание. т.е. сохраняет пропорций при масштабировании без заполнения пустых областей.</li>
                </ul>
            </li><br>
            <li>Параметр «Shrink» (сжатие) – не затрагивает масштабирование, влияет на пропорциональное растяжение картинки. По умолчанию равен единице – картинка отображается в «сыром» виде. Если поставить значение 2, то в таком случае картинка увеличится в 2 раза, соответственно и объекты будут показываться увеличенными в два раза, а на выходе мы увидим четверть картинки.
                <br><div class="imagediv"><img src="imgs/Shrink.png"></div>
            </li>
        </ol>
    </p>
    <p>С настройками экрана мы закончили. Далее, если мы желаем игру адаптировать под устройства с сенсорным экраном, нам нужно эмулировать работу сенсора. В списке слева находим раздел «Input Devices», и выбираем пункт «Pointing». В данном разделе представлено всего три настройки. Нас интересует настройка «Emulate Touch From Mouse». Она отвечает за эмулирование сенсорного ввода при помощи щелчков мыши. Вторая настройка - «Emulate Mouse From Touch» стоит по умолчанию. Это означает что Godot эмулирует действия мыши исходя из данных сенсорного ввода.</p>
    <p>С начальной настройкой проекта мы закончили, теперь можно закрыть окно настроек и перейти к созданию сцены.</p>
    <br>
</div>