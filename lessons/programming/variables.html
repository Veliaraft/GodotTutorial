<link rel="stylesheet" href="../../css/contentstyle.css">
<div style="width: 95%; 
            color: #fff; 
            font-family:'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;
            text-align: justify;
            padding-top: 25px;
            padding-left: 2.5%">

    <h1>Переменные, типы данных, ссылки, константы.</h1>
    <p>Представьте, что вы находитесь на пустом складе.</p> 
    <p>Вам необходимо что-то положить, но у склада особое условие - 
        все свои вещи Вы можете хранить только в коробках. 
        Для удобства каждая коробка должна иметь какое-либо название.</p>
    <p>У Вас есть 10 яблок. Вы берёт коробку, называете её "Яблоки", и кладёте туда 10 яблок.
        У вас возникает необходимость разделить яблоки. Что Вы сделаете?
        Вы, скорей всего, возьмёте вторую коробку, и назовёте её как "Часть яблок",
        и начнёте перекладывать по следующему алгоритму:
    <br>Достать из "Яблоки" одну штуку  (Яблоки -= 1)
    <br>Положить яблоко в "часть яблок" (Часть яблок += 1)</p>
    <p>Можно сделать ещё проще - можно сразу указать сколько яблок Вы переложили (Часть яблок = Яблоки / 2)
    после чего указать сколько осталось в первой коробке (Яблоки = Яблоки / 2).</p>
    Примерно так и работают переменные - вы даёте имя своим данным, и на это имя присваиваете определённые данные.
    Для примера:
    <br> var apples = 10<br></p>
    <p>У нас есть какие-то параметры в игре. Например, уровень здоровья. 
    Этот параметр необходимо хранить – для этого и существуют переменные.</p>
    <i><hr> Для людей, обладающих опытом программирования на других языках: Так как GDScript является динамически типизированным языком – нам нет необходимости каждой переменной присваивать тип. Тип данных зависит от самих данных. При этом переменная является всего лишь ссылкой на эти данные. <hr></i>
    Какие же из основных типов нам пригодятся чаще всего?
    <ol>
        <li><b>TYPE_NIL</b> - тип, не содержащий данных;</li>
        <li><b>TYPE_BOOL</b> - содержит логическое значение (true (истина) или false (ложь));</li>
        <li><b>TYPE_INT</b> - целое число;</li>
        <li><b>TYPE_REAL</b> - вещественное (с плавающей точкой);</li>
        <li><b>TYPE_STRING</b> - строковое значение (набор символов представляющих обычный текст);</li>
    </ol>
    Это самые элементарные, с которыми приходится работать напрямую чаще всего. На деле же не стоит забывать, что переменная может содержать в себе ссылку на какой-либо объект - изображение, видеоролик, аудиозапись, какой-либо узел, либо вообще другой скрипт.
    <h2>Операции с переменными</h2>
    С переменными, точно также как и с обычными числами, можно производить различные операции. Самые очевидные из них - математические операции с числами:
    Консоль движка находится в нижней панели. Она активируется автоматически при запуске проекта. Для вывода в эту консоль используется оператор print().
    <pre><code class="code"><hr>var a = 10
var b = 20

func _ready():
    print(a + b) #сложение. Вывод: 30
    print(a - b) #вычитание. Вывод: -10
    print(a * b) #умножение. Вывод: 200
    print(a / b) #деление. Вывод: 0
    print(a % b) #неделимый остаток. Вывод: 10
    print(sqrt(a)) #квадратный корень. Вывод: 3.162278<hr></code></pre>
    <p>Для строковых операций не поддерживаются многие математические операторы, однако самым важным для нас окажется оператор сложения. Он производит конкатенацию строк.</p>
    <hr><i>Конкатенация - операция, при которой две строки слипаются воедино.</i><hr>
    <p>Например, нам необходимо слепить две разные строки:</p>
    <pre><code class="code"><hr>var a = 'Hello'
var b = 'world'
var c = 1

func _ready():
    print(a + ' ' + b + str(c))<hr></code></pre>
    <p>str() используется для преобразования числа в строку, так как число и строка являются по сути своей разными типами данных.</p>
    <h2>Константы</h2>
    <p>Основное отличие констант от обычных переменных в том, что она неизменна - так это работает в нормальных языках программирования.</p>
    <br>В случае с GDScript это определение можно выкинуть.
    <p>Константы и переменные внутри скрипта узла ведут себя одинаково – мы можем работать с ними одинаково – проверять как на тип, так и на значение, производить математические операции, преобразования и т.д. Здесь вообще никаких различий нет. Отличия заключаются в доступе – константа отсылает нас к понятию инкапсуляции.</p>
    <i>Инкапсуляция - это упаковка данных и функций в один компонент (например, класс) и последующий контроль доступа к этому компоненту, создавая тем самым "чёрный ящик" из объекта.</i>
    <p>Дело в том, что к обычным переменных этого узла мы можем обращаться извне, из других узлов сцены. Однако к константам мы извне обратиться не можем.
        Давайте наш спрайт будет содержать и нашу переменную, и константу. Мы добавим туда константу.</p>
    <pre><code class="code"><hr>extends Sprite

var health = 10
const health2 = 20

func _ready()
    pass<hr></code></pre>
    <p>В узле Node мы создаём другой скрипт, из которого мы будем обращаться к нашему узлу «Sprite». Заведём любую переменную в качестве нашего узла, после чего получим в неё наш узел (за получение отвечает оператор get_node(«путь до экземпляра»)). Мы можем так делать, так как переменная, как мы помним, это ссылка – мы фактически ссылаемся на наш объект и получаем к нему доступ. После этого давайте попробуем вывести её переменные, именить их, и ещё раз вывести.</p>
    <div class="imagediv"><img src="imgs/constant.png"></div>
    <p>После запуска, как видим, движок указывает на ошибку, и зелёная стрелочка указывает на 14-ю строку. Движок сообщает нам о том, что мы не имеем возможности воздействовать на константу, однако считать её в десятой строке мы смогли.</p>
</div>
<script src="../../scripts/codeformatter.js"></script>